{
  "module": "costos",
  "description": "Módulo de costos: Packing, Materia prima, Combos y Equivalencias. Define las hojas de Google Sheets y restricciones de cada tabla.",
  "sheets": [
    {
      "name": "Packing",
      "sheetKey": "packing",
      "idColumn": "idpacking",
      "idColumnAliases": ["idpacking"],
      "columnsHiddenInList": [
        "Categoria",
        "idpacking",
        "Presentacion-Tipo",
        "Observaciones",
        "OBSERVACIONES",
        "Cantidad Unidad Medida",
        "Cantidad-Unidad-Medida",
        "Tipo Unidad Medida",
        "Tipo-Unidad-Medida",
        "Equivalencia Unidad Medida",
        "Equivalencia-Unidad-Medida",
        "Equivalencia Tipo Unidad Medida",
        "Equivalencia-Tipo-Unidad-Medida",
        "NO",
        "Precio COSTO x Unidad",
        "Precio-Costo-x-Unidad",
        "Precio Equivalencia x Unidad",
        "Precio-Equivalencia-x-Unidad",
        "Fecha Actualizada Al",
        "Fecha-Actualizada-Al",
        "Marca",
        "MARCA",
        "Lugar",
        "LUGAR",
        "Habilitado",
        "HABILITADO"
      ],
      "fields": [
        { "name": "idpacking", "type": "string", "required": false, "hiddenInList": true, "description": "ID único del registro. Auto-generado si está vacío en create.", "restrictions": {} },
        { "name": "Categoria", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Producto", "type": "string", "required": true, "hiddenInList": false, "description": "Nombre del producto", "restrictions": { "maxLength": 500 } },
        { "name": "Presentacion-Cantidad-Medida", "type": "string", "required": false, "hiddenInList": false, "restrictions": {} },
        { "name": "Presentacion-Unidad", "type": "string", "required": false, "hiddenInList": false, "restrictions": {} },
        { "name": "Presentacion-Tipo", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Precio", "type": "number", "required": false, "hiddenInList": false, "description": "Precio actual", "restrictions": { "min": 0 } },
        { "name": "Precio Actual", "type": "number", "required": false, "hiddenInList": false, "restrictions": { "min": 0 } },
        { "name": "Precio Anterior", "type": "number", "required": false, "hiddenInList": false, "restrictions": { "min": 0 } },
        { "name": "Precio COSTO x Unidad", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Precio Equivalencia x Unidad", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Fecha Actualizada Al", "type": "date", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Fecha-Actualizada-Al", "type": "date", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Días Trascurridos Actualizacion", "type": "number", "required": false, "hiddenInList": false, "description": "Calculado desde Fecha Actualizada Al", "restrictions": {} },
        { "name": "Marca", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Lugar", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Tipo-Unidad-Medida", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Cantidad-Unidad-Medida", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Equivalencia-Unidad-Medida", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Observaciones", "type": "string", "required": false, "hiddenInList": true, "restrictions": { "maxLength": 2000 } },
        { "name": "Habilitado", "type": "string", "required": false, "hiddenInList": true, "restrictions": { "enum": ["Sí", "No", ""] } }
      ]
    },
    {
      "name": "Materia Prima",
      "sheetKey": "materiaPrima",
      "idColumn": "idmateria-prima",
      "idColumnAliases": ["idmateria-prima", "idmateriaprima", "id materia prima"],
      "columnsHiddenInList": [
        "Categoria",
        "idmateria-prima",
        "id materia prima",
        "Presentacion-Tipo",
        "Observaciones",
        "OBSERVACIONES",
        "Cantidad Unidad Medida",
        "Cantidad-Unidad-Medida",
        "Tipo Unidad Medida",
        "Tipo-Unidad-Medida",
        "Equivalencia Unidad Medida",
        "Equivalencia-Unidad-Medida",
        "Equivalencia Tipo Unidad Medida",
        "Equivalencia-Tipo-Unidad-Medida",
        "NO",
        "Precio COSTO x Unidad",
        "Precio-Costo-x-Unidad",
        "Precio Equivalencia x Unidad",
        "Precio-Equivalencia-x-Unidad",
        "Fecha Actualizada Al",
        "Fecha-Actualizada-Al",
        "Marca",
        "MARCA",
        "Lugar",
        "LUGAR",
        "Habilitado",
        "HABILITADO"
      ],
      "fields": [
        { "name": "idmateria-prima", "type": "string", "required": false, "hiddenInList": true, "description": "ID único. Auto-generado (COSTO-MP-xxxx) si está vacío en create.", "restrictions": {} },
        { "name": "Categoria", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Nombre del producto", "type": "string", "required": true, "hiddenInList": false, "description": "Nombre del producto (obligatorio en create)", "restrictions": { "maxLength": 500 } },
        { "name": "Producto", "type": "string", "required": false, "hiddenInList": false, "restrictions": { "maxLength": 500 } },
        { "name": "Presentacion-Cantidad-Medida", "type": "string", "required": false, "hiddenInList": false, "restrictions": {} },
        { "name": "Presentacion-Unidad", "type": "string", "required": false, "hiddenInList": false, "restrictions": {} },
        { "name": "Presentacion-Tipo", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Precio", "type": "number", "required": false, "hiddenInList": false, "restrictions": { "min": 0 } },
        { "name": "Precio Actual", "type": "number", "required": false, "hiddenInList": false, "restrictions": { "min": 0 } },
        { "name": "Precio Anterior", "type": "number", "required": false, "hiddenInList": false, "restrictions": { "min": 0 } },
        { "name": "Precio COSTO x Unidad", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Precio Equivalencia x Unidad", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Fecha Actualizada Al", "type": "date", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Fecha-Actualizada-Al", "type": "date", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Días Trascurridos Actualizacion", "type": "number", "required": false, "hiddenInList": false, "restrictions": {} },
        { "name": "Marca", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Lugar", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Tipo-Unidad-Medida", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Cantidad-Unidad-Medida", "type": "number", "required": false, "hiddenInList": true, "restrictions": { "min": 0 } },
        { "name": "Equivalencia-Unidad-Medida", "type": "string", "required": false, "hiddenInList": true, "restrictions": {} },
        { "name": "Observaciones", "type": "string", "required": false, "hiddenInList": true, "restrictions": { "maxLength": 2000 } },
        { "name": "Habilitado", "type": "string", "required": false, "hiddenInList": true, "restrictions": { "enum": ["Sí", "No", ""] } }
      ]
    },
    {
      "name": "Combos",
      "sheetKey": "combos",
      "description": "Hoja auxiliar para valores de listas desplegables (unidades de medida, presentación, categoría, rendimiento). Solo lectura desde la app.",
      "idColumn": "TIPO-UNIDAD-MEDIDA",
      "fields": [
        { "name": "TIPO-UNIDAD-MEDIDA", "type": "string", "required": false, "restrictions": {} },
        { "name": "CONVERTIR-UNIDAD-MEDIDA", "type": "string", "required": false, "restrictions": {} },
        { "name": "TIPO-PRESENTACION", "type": "string", "required": false, "restrictions": {} },
        { "name": "COMBO-CATEGORIA", "type": "string", "required": false, "restrictions": {} },
        { "name": "UNIDADES-MEDIDA-RENDIMIENTO", "type": "string", "required": false, "restrictions": {} },
        { "name": "COMERCIO-SUCURSAL", "type": "string", "required": false, "restrictions": {} }
      ]
    },
    {
      "name": "Equivalencias",
      "sheetKey": "equivalencias",
      "description": "Conversión entre unidades (masa, volumen, longitud, conteo). Usada por Calculadora y formularios Packing/Materia prima.",
      "idColumn": null,
      "fields": [
        { "name": "Categoria", "type": "string", "required": true, "description": "Agrupa unidades convertibles (masa, volumen, longitud, conteo)", "restrictions": {} },
        { "name": "Unidad", "type": "string", "required": true, "description": "Nombre de la unidad (ej. gramos, kg, metro)", "restrictions": {} },
        { "name": "Factor", "type": "number", "required": true, "description": "Unidades base por 1 de esta unidad. Base = 1.", "restrictions": { "min": 0 } },
        { "name": "Convertir-UnidadMedida", "type": "string", "required": false, "restrictions": {} },
        { "name": "Factor-Unidad-Equivalencia", "type": "number", "required": false, "restrictions": { "min": 0 } },
        { "name": "Convertido-UnidadMedida", "type": "string", "required": false, "restrictions": {} },
        { "name": "Alias", "type": "string", "required": false, "description": "Otros nombres separados por coma", "restrictions": {} },
        { "name": "Tipo", "type": "string", "required": false, "restrictions": { "enum": ["Universal", "Personalizada", ""] } },
        { "name": "Notas", "type": "string", "required": false, "restrictions": {} }
      ]
    }
  ]
}
